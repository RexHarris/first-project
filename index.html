<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<title>开始使用layui</title>

		<script src="js/echarts.js"></script>
		<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

		<link rel="stylesheet" href="layui/css/layui.css">
		<link rel="stylesheet" href="css/test.css" />

	</head>
	<!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
	<!--[if lt IE 9]>
  		<script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
  		<script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
	<![endif]-->

	<body>

		<div class="layui-layout layui-layout-admin">
			<!--顶部导航-->
			<div class="layui-header " style="background-color: #555555;color: white;">

				<!--logo位置-->
				<h1 style="float: left;margin: 10px;">用户中心管理后台</h1>
				<ul class="layui-nav" lay-filter="">
					<li class="layui-nav-item">
						<a href="">最新活动</a>
					</li>
					<li class="layui-nav-item layui-this">
						<a href="">产品</a>
					</li>
					<li class="layui-nav-item">
						<a href="">大数据</a>
					</li>
					<li class="layui-nav-item">
						<a href="javascript:;">解决方案</a>
						<dl class="layui-nav-child">
							<!-- 二级菜单 -->
							<dd>
								<a href="">移动模块</a>
							</dd>
							<dd>
								<a href="">后台模版</a>
							</dd>
							<dd>
								<a href="">电商平台</a>
							</dd>
						</dl>
					</li>
					<li class="layui-nav-item">
						<a href="">社区</a>
					</li>
				</ul>
			</div>

			<!--侧边导航-->

			<div class="layui-side layui-bg-red " id="nav">
				<div class="layui-side-scroll in-nav">
					<ul class="layui-nav layui-nav-tree" lay-filter="test" style="width: 100%;">
						<!-- 侧边导航: <ul class="layui-nav layui-nav-tree layui-nav-side"> -->
						<li class="layui-nav-item layui-nav-itemed layui-bg-red">
							<a class="nav_a" style="white-space: normal;">
								默认展开
								<span class="layui-nav-more"></span>
							</a>
							<dl class="layui-nav-child  menu_1">
								<dd>
									<a id="dataDetail" class="site-demo-active" style="white-space: normal;" href="javascript:void(0)">数据概览</a>
								</dd>
								<dd>
									<a id="systemSet" class="site-demo-active" style="white-space: normal;" href="javascript:void(0)">系统设置</a>
								</dd>
								<dd>
									<a id="userManage" class="site-demo-active" style="white-space: normal;" href="javascript:void(0)">用户管理</a>
								</dd>
							</dl>
						</li>
						<li class="layui-nav-item layui-bg-red">
							<a class="nav_a" style="white-space: normal;">
								解决方案
								<span class="layui-nav-more"></span>
							</a>
							<dl class="layui-nav-child">
								<dd>
									<a style="white-space: normal;" href="">移动模块</a>
								</dd>
								<dd>
									<a style="white-space: normal;" href="">后台模版</a>
								</dd>
								<dd>
									<a style="white-space: normal;" href="">电商平台</a>
								</dd>
							</dl>
						</li>
						<li class="layui-nav-item layui-bg-red">
							<a class="nav_a" href="" style="white-space: normal;">产品</a>
						</li>
						<li class="layui-nav-item layui-bg-red">
							<a class="nav_a" href="" style="white-space: normal;">大数据</a>
						</li>
					</ul>
				</div>
			</div>
			<!--箭头图标-->
			<i class="layui-icon layui-icon-next" style="position: relative; top: 500px;
				left: 15px; font-size: 20px;color: white; z-index: 1000; display: none;"></i>

			<!--内容主体-->

			<div class="layui-body " id="l-b">
				<!--Tab 面包屑-->
				<div class="layui-tab" lay-filter="demo" lay-allowClose="true">
					<ul class="layui-tab-title layui-row" style="background-color: 	#FF8C00;color: white;">
						<li class="layui-this main layui-col-md1">首页</li>

					</ul>
					<div class="layui-tab-content layui-bg-gray">
						<div class="layui-tab-item layui-show">
							<!--<div class="layui-col-md6">-->
							<div class="layui-row layui-col-space10">
								<!--轮播-->
								<div class="layui-col-md12">
									<div class="layui-card">
										<div class="layui-card-header">主页面板</div>
										<div class="layui-card-body">

											<div class="layui-carousel" id="test1">
												<div carousel-item>
													<div class="l-carousel" style="background-color: #FA8072;color: white;">
														<p style="position: absolute; top:50%; left: 48.5%;">条目1</p>
													</div>
													<div class="l-carousel" style="background-color: 	#87CEEB;color: white;">
														<p style="position: absolute; top:50%; left: 48.5%;">条目2</p>
													</div>
													<div class="l-carousel layui-bg-green">
														<p style="position: absolute; top:50%; left: 48.5%;">条目3</p>
													</div>
													<div class="l-carousel" style="background-color: #FF0000;color: white; ">
														<p style="position: absolute; top:48%; left: 48.5%;">条目4</p>
													</div>
													<div class="l-carousel layui-bg-orange">
														<p style="position: absolute; top:48%; left: 48.5%;">条目5</p>
													</div>
												</div>
											</div>

										</div>
									</div>
								</div>

								<!--日历-->
								<div class="layui-col-md5">
									<div class="layui-card">
										<div class="layui-card-header">待办事件</div>
										<div class="layui-card-body">

											请选择日期：<input id="test2" class="layui-input"> 请输入事项：
											<input id="test4" class="layui-input">
											<div style="margin-top:10px">
												<button id="btn_add" class="layui-btn layui-btn-fluid" style="background-color: #00FA9A;">添加事项</button>
											</div>
											<ul class="layui-timeline" style="margin-top: 10px;"></ul>

										</div>

									</div>
								</div>
								<!--进度条-->
								<div class="layui-col-md7">
									<div class="layui-card">
										<div class="layui-card-header">实时监控</div>
										<div class="layui-card-body">
											<div class="layui-progress layui-progress-big" lay-showPercent="true" style="margin-bottom: 20px;">
												<div class="layui-progress-bar layui-bg-cyan" lay-percent="75%"></div>

											</div>
											<div class="layui-progress layui-progress-big" lay-showPercent="yes" style="margin-bottom: 20px;">
												<div class="layui-progress-bar layui-bg-green" lay-percent="25%"></div>
											</div>
											<div class="layui-progress layui-progress-big" lay-showPercent="yes" style="margin-bottom: 20px;">
												<div class="layui-progress-bar layui-bg-orange" lay-percent="95%"></div>
											</div>
											<div class="layui-progress layui-progress-big" lay-showPercent="yes" style="margin-bottom: 20px;">
												<div class="layui-progress-bar layui-bg-red" lay-percent="10%"></div>
											</div>
											<div class="layui-progress layui-progress-big" lay-showPercent="yes" style="margin-bottom: 20px;">
												<div class="layui-progress-bar layui-bg-blue" lay-percent="50%"></div>
											</div>
										</div>
									</div>
								</div>

							</div>
							<!--</div>-->
						</div>

						<!--<div class="layui-tab-item systemSet" id="tab_item_2"></div>
						<div class="layui-tab-item userManage" id="tab_item_3"></div>-->

					</div>
				</div>

			</div>
			<!--底部-->
			<div class=" layui-footer layui-footer-1" id="l-f">

			</div>
		</div>
		<script src="layui/layui.all.js"></script>
		<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js" charset="UTF-8"></script>
		<script>
			//一般直接写在一个js文件中
			layui.use(['layer', 'form', 'element', 'jquery', 'carousel', 'laydate'], function() {
				var layer = layui.layer,
					element = layui.element,
					$ = layui.$,
					form = layui.form,
					carousel = layui.carousel,
					laydate = layui.laydate;
				//渲染form组件
				form.render();

				//轮播实例
				carousel.render({
					elem: '#test1',
					width: '100%',
					height: '400px',
					arrow: 'hover', //显示箭头
					anim: 'default', //切换动画方式
					autoplay: 'true',
					interval: '2500'
				});
				//日历
				laydate.render({
					elem: '#test2',
					trigger: 'click',
					calendar: 'true',
				});

				//添加事项触发函数

				$('#btn_add').click(function() {
					var parentDiv = $('<li class="layui-timeline-item"></li>')
					var childDiv = $('<i class="layui-icon layui-timeline-axis">&#xe63f;</i>' +
						'<div class="layui-timeline-content layui-text" id="timeLine_content"></div>')
					var childDiv_1 = $('<h3 class="layui-timeline-title"></h3>')
					var childDiv_2 = $('<p class="layui_p"></p>')

					if($('.layui-timeline-item').length == 0) {
						//console.log($('.layui-timeline-item').length)
						$('.layui-timeline').append(parentDiv)

					} else {
						//console.log($('.layui-timeline-item').length)
						$('.layui-timeline').children('li').last().after($(parentDiv))
					}
					$(parentDiv).append(childDiv)
					$('.layui-timeline-content').append(childDiv_1)
					$(childDiv_1).after(childDiv_2)
					$('.layui-timeline').children('li').last().children('.layui-timeline-content').children('.layui-timeline-title').html($('#test2').val())
					$('.layui-timeline').children('li').last().children('.layui-timeline-content').children('.layui_p').html($('#test4').val())

				});

				//点击箭头触发函数

				$('.layui-icon-next').click(function() {
					//导航栏为缩小状态
					var a = $('#nav').css('width')
						//var b = $('.layui-side-scroll').css('width')
					if(a == "50px") {
						console.log(111)
							//document.querySelector('.nav').style.width = '100px'
							// document.getElementsByClassName("in-nav")[0].style.width="100px"
						$('#nav').animate({
							width: "100px"
						}, "normal")
						$('.in-nav').animate({
							width: "100px"
						}, "normal")

						$('.layui-icon-next').removeClass('layui-icon-next')

						$('.layui-icon').addClass('layui-icon-prev')
							//$('#l-b').css('left','105px')
						$('#l-b').animate({
								left: "105px"
							}, "normal")
							//						$('.layui-icon-next').rotate({angle:-180})
					}
					//导航栏为展开状态
					else {
						$('#nav').animate({
							width: "50px"
						}, "normal")
						$('.in-nav').animate({
							width: "50px"
						}, "normal")

						$('.layui-icon-prev').removeClass('layui-icon-prev')

						$('.layui-icon').addClass('layui-icon-next')
							//$('#l-b').css('left','55px')
						$('#l-b').animate({
							left: "55px"
						}, "normal")

					}

				});
				
				//手机适配

				var bodyWidth = $(window).width();
				$(document).ready(function (){
					if(bodyWidth <= 400){
						console.log(11)
						$('.in-nav').css("width:400px")
					}
				})

				$('#dataDetail').click(function() {
					//添加标签	
					if($('.layui-tab-title').children('.dataDetail').length <= 0) {
						$('.layui-tab-title').children('.layui-this').after('<li class="dataDetail layui-col-md1">数据概况</li>');
					}

					//Tab 跳转
					//console.log($(".layui-tab-title").children())
					$('.layui-tab-content').children('div').last().after('<div class="layui-tab-item dataDetail" id="tab_item_1"></div>')
					$('.layui-tab-title').children('.layui-this').removeClass('layui-this');

					$(".layui-tab-title").children('.dataDetail').addClass('layui-this');
					$('.layui-tab-content').children('.layui-show').removeClass('layui-show');
					$('.layui-tab-content').children('.dataDetail').addClass('layui-show');

					//加载页面

					$('#tab_item_1').load('html/dataDetail.html');

					//点击选项卡菜单项被选中
					var dataDetail = document.querySelector('.dataDetail')
					var menu = document.querySelector('.menu_1')
					var dds = menu.querySelectorAll('dd')
					dataDetail.addEventListener('click', function() {
						for(var i = 0; i < dds.length; i++) {
							dds[i].classList.remove('layui-this')
						}
						dds[0].classList.add('layui-this')
					})

					//点击首页选项卡菜单项失焦
					if($('.layui-tab-title').children().length > 1) {

						$('.layui-tab-title').children('.main').click(function() {

							$('.menu_1').children().removeClass('layui-this');
							//console.log($('.menu_1').children('.layui-this'));
						})
					}
				});

				$('#userManage').click(function() {
					if($('.layui-tab-title').children('.userManage').length <= 0) {
						$('.layui-tab-title').children('.layui-this').after('<li class="userManage layui-col-md1">用户管理</li>');
					}

					//Tab 跳转
					$('.layui-tab-content').children('div').last().after('<div class="layui-tab-item userManage" id="tab_item_3"></div>')
					$('.layui-tab-title').children('.layui-this').removeClass('layui-this');
					$(".layui-tab-title").children('.userManage').addClass('layui-this');
					$('.layui-tab-content').children('.layui-show').removeClass('layui-show');
					$('.layui-tab-content').children('.userManage').addClass('layui-show');
					//加载页面

					$('#tab_item_3').load('html/userManage.html');

					//点击选项卡菜单项被选中
					var userManage = document.querySelector('.userManage')
					var menu = document.querySelector('.menu_1')
					var dds = menu.querySelectorAll('dd')
					userManage.addEventListener('click', function() {
						for(var i = 0; i < dds.length; i++) {
							dds[i].classList.remove('layui-this')
						}
						dds[2].classList.add('layui-this')
					})

					//点击首页选项卡菜单项失焦
					if($('.layui-tab-title').children().length > 1) {

						$('.layui-tab-title').children('.main').click(function() {

							$('.menu_1').children().removeClass('layui-this');
							//console.log($('.menu_1').children('.layui-this'));
						})
					}

				});

				$('#systemSet').click(function() {
					if($('.layui-tab-title').children('.systemSet').length <= 0) {
						$('.layui-tab-title').children('.layui-this').after('<li class="systemSet layui-col-md1">系统设置</li>');
					}

					//Tab 跳转
					$('.layui-tab-content').children('div').last().after('<div class="layui-tab-item systemSet" id="tab_item_2"></div>')
					$('.layui-tab-title').children('.layui-this').removeClass('layui-this');
					$(".layui-tab-title").children('.systemSet').addClass('layui-this');
					$('.layui-tab-content').children('.layui-show').removeClass('layui-show');
					$('.layui-tab-content').children('.systemSet').addClass('layui-show');
					//加载页面

					$('#tab_item_2').load('html/systemSet.html');

					//点击选项卡对应的菜单项被选中
					var systemSet = document.querySelector('.systemSet')
					var menu = document.querySelector('.menu_1')
					var dds = menu.querySelectorAll('dd')
					systemSet.addEventListener('click', function() {
						for(var i = 0; i < dds.length; i++) {
							dds[i].classList.remove('layui-this')
						}
						dds[1].classList.add('layui-this')
					})

					//点击首页选项卡菜单项失焦
					if($('.layui-tab-title').children().length > 1) {

						$('.layui-tab-title').children('.main').click(function() {

							$('.menu_1').children().removeClass('layui-this');
							//console.log($('.menu_1').children('.layui-this'));
						})
					}
				});

				//layer.msg('Hello World');
				//				面包屑 Tab 触发事件
				//				var active = {
				//					tabAdd: function() {
				//						//新增一个Tab项
				//						if($('.layui-tab-title').children('.systemSet').length <= 0) {
				//							element.tabAdd('demo', {
				//								title: '新选项' + (Math.random() * 1000 | 0) //用于演示
				//									,
				//								content: '内容' + (Math.random() * 1000 | 0),
				//								id: new Date().getTime() //实际使用一般是规定好的id，这里以时间戳模拟下
				//							});
				//						}
				//					},
				//					tabDelete: function(othis) {
				//						//删除指定Tab项
				//						element.tabDelete('demo', '44'); //删除：“商品管理”
				//
				//						othis.addClass('layui-btn-disabled');
				//					},
				//					tabChange: function() {
				//						//切换到指定Tab项
				//						element.tabChange('demo', '22'); //切换到：用户管理
				//					}
				//				};

				//				$('.site-demo-active').on('click', function() {
				//					var othis = $(this),
				//						type = othis.data('type');
				//					active[type] ? active[type].call(this, othis) : '';
				//				});

				//Hash地址的定位
				var layid = location.hash.replace(/^#test=/, '');
				element.tabChange('test', layid);

				element.on('tab(test)', function(elem) {
					location.hash = 'test=' + $(this).attr('lay-id');
				});

				element.on('.testTag', function(elem) {
					console.log(elem); //得到当前点击的DOM对象
				});

			});;
		</script>

	</body>

</html>